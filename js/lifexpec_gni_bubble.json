{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "width": 600,
  "height": 400,
  "background": "#ecd9c6",
  "title": "Life Expectancy vs Income per capita",
  "data": {
    "url": "https://raw.githubusercontent.com/linsze/FIT3179/master/data/human_development.csv"
  },
  "selection": {
    "continent_highlight": {
      "type": "multi",
      "fields": ["Continent"],
      "bind": "legend"
    }
  },
  "mark": "circle",
  "encoding": {
    "x": {
      "field": "Gross National Income (GNI) per Capita",
      "type": "quantitative",
      "scale": {"type": "sqrt", "domain": [1000, 160000]}
    },
    "y": {
      "field": "Life Expectancy at Birth",
      "type": "quantitative",
      "scale": {"type": "linear", "domain": [45, 85]}
    },
    "color": {
      "field": "Continent",
      "type": "nominal",
      "scale": {
        "domain": [
          "Asia",
          "Africa",
          "Europe",
          "North America",
          "South America",
          "Oceania"
        ],
        "range": [
          "#d95f0e",
          "#1f78b4",
          "#7570b3",
          "#ffff1a",
          "#4daf4a",
          "#c51b8a"
        ]
      }
    },
    "opacity": {
      "condition": {"selection": "continent_highlight", "value": 0.6},
      "value": 0.2
    },
    "size": {
      "field": "Human Development Index (HDI)",
      "type": "quantitative",
      "title": "HDI",
      "scale": {"type": "threshold", "domain": [0.5, 0.65, 0.85]}
    },
    "tooltip": [
      {"field": "Country", "type": "nominal"},
      {
        "field": "Life Expectancy at Birth",
        "type": "quantitative",
        "format": ",",
        "title": "Life Expectancy"
      },
      {
        "field": "Gross National Income (GNI) per Capita",
        "type": "quantitative",
        "format": ",",
        "title": "GNI per Capita"
      },
      {
        "field": "Human Development Index (HDI)",
        "type": "quantitative",
        "title": "HDI"
      },
      {
        "field": "Expected Years of Education",
        "type": "quantitative",
        "format": ","
      },
      {
        "field": "Mean Years of Education",
        "type": "quantitative",
        "format": ","
      }
    ]
  },
  "config": {}
}